const averageEXPbyLevel = [
  0, 195.49794980203805, 196.81391758270502, 198.64428670521278,
  201.18091082175346, 204.78130205041225, 209.90009609577885,
  217.22089672651663, 227.77859783504584, 243.0823067374867, 265.3990243902439,
  298.0582785081856, 346.05795631485506, 416.8116475399327, 521.4278887053398,
  676.4618009919277, 906.6797414455938, 1249.1077477529711, 1759.1447588382634,
  2519.761847862672, 3655.1390243902442, 5065.09377964278, 7485.84,
];

const ratingTable = [
  0,

  195.49794980203805 * 2,

  195.49794980203805 * 2 + 196.81391758270502,

  195.49794980203805 * 2 + 196.81391758270502 + 198.64428670521278 * 4,

  195.49794980203805 * 2 +
    196.81391758270502 +
    198.64428670521278 * 4 +
    201.18091082175346 * 5,

  195.49794980203805 * 2 +
    196.81391758270502 +
    198.64428670521278 * 4 +
    201.18091082175346 * 5 +
    204.78130205041225 * 5,

  195.49794980203805 * 2 +
    196.81391758270502 +
    198.64428670521278 * 4 +
    201.18091082175346 * 5 +
    204.78130205041225 * 5 +
    209.90009609577885 * 10,

  195.49794980203805 * 2 +
    196.81391758270502 +
    198.64428670521278 * 4 +
    201.18091082175346 * 5 +
    204.78130205041225 * 5 +
    209.90009609577885 * 10 +
    217.22089672651663 * 11,

  195.49794980203805 * 2 +
    196.81391758270502 +
    198.64428670521278 * 4 +
    201.18091082175346 * 5 +
    204.78130205041225 * 5 +
    209.90009609577885 * 10 +
    217.22089672651663 * 11 +
    227.77859783504584 * 12,

  201.18091082175346 * 2 +
    204.78130205041225 * 5 +
    209.90009609577885 * 10 +
    217.22089672651663 * 11 +
    227.77859783504584 * 12 +
    243.0823067374867 * 10,

  227.77859783504584 * 12 + 243.0823067374867 * 10 + 265.3990243902439 * 28,

  265.3990243902439 * 12 + 298.0582785081856 * 38,

  346.05795631485506 * 50,

  416.8116475399327 * 50,

  521.4278887053398 * 50,

  676.4618009919277 * 50,

  906.6797414455938 * 50,

  1249.1077477529711 * 50,

  1759.1447588382634 * 50,

  2519.761847862672 * 50,

  2519.761847862672 * 17 + 3655.1390243902442 * 33,

  // ALL FULL COMBO
  5065.09377964278 * 17 + 7485.84 * 33,
];

console.log(ratingTable);

export const getRating = (input: number, category: string) => {
  if (category !== "aery") return (input / 10000).toFixed(3);

  let nearIndex = 0;

  for (let i = 0; i < ratingTable.length; i++) {
    if (ratingTable[i] > input) {
      nearIndex = i - 1;
      break;
    }
  }

  if (input >= ratingTable[ratingTable.length]) return "21.000";

  const sub =
    1 -
    (ratingTable[nearIndex + 1] - input) /
      (ratingTable[nearIndex + 1] - ratingTable[nearIndex]);

  return (nearIndex + sub).toFixed(3);
};
